<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>Homework 02: Exploring and visualizing data</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/readable.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-45631879-2', 'auto');
  ga('send', 'pageview');

</script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 66px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 71px;
  margin-top: -71px;
}

.section h2 {
  padding-top: 71px;
  margin-top: -71px;
}
.section h3 {
  padding-top: 71px;
  margin-top: -71px;
}
.section h4 {
  padding-top: 71px;
  margin-top: -71px;
}
.section h5 {
  padding-top: 71px;
  margin-top: -71px;
}
.section h6 {
  padding-top: 71px;
  margin-top: -71px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->






<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Computing for the Social Sciences</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="faq.html">FAQ</a>
</li>
<li>
  <a href="syllabus.html">Syllabus</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Homework 02: Exploring and visualizing data</h1>

</div>


<div id="overview" class="section level1">
<h1>Overview</h1>
<p>Due <del>before class</del> by 11:59pm on Wednesday January 18th.</p>
<p>Now that you’ve demonstrated your software is setup, the goal of this assignment is to practice transforming and exploring data.</p>
</div>
<div id="fork-the-hw02-repository" class="section level1">
<h1>Fork the <code>hw02</code> repository</h1>
<p>Go <a href="https://github.com/uc-cfss/hw02">here</a> to fork the repo for homework 02.</p>
</div>
<div id="exploring-clean-data" class="section level1">
<h1>Exploring clean data</h1>
<p><a href="http://fivethirtyeight.com/">FiveThirtyEight</a>, a data journalism site devoted to politics, sports, science, economics, and culture, recently published a series of articles on <a href="http://fivethirtyeight.com/features/gun-deaths-introduction/">gun deaths in America</a>. Gun violence in the United States is a significant political issue, and while reducing gun deaths is a noble goal, we must first understand the causes and patterns in gun violence in order to craft appropriate policies. As part of the project, FiveThirtyEight collected data from the Centers for Disease Control and Prevention, as well as other governmental agencies and non-profits, on all gun deaths in the United States from 2012-2014.</p>
<div id="obtain-the-data" class="section level2">
<h2>Obtain the data</h2>
<p>I have included this dataset in the <a href="https://github.com/uc-cfss/rcfss"><code>rcfss</code></a> library on GitHub. To install the package, use the command <code>devtools::install_github(&quot;uc-cfss/rcfss&quot;)</code> in R. If you don’t already have the <code>devtools</code> library installed, you will get an error. Go back and install this first using <code>install.packages()</code>, then install <code>rcfss</code>. The gun deaths dataset can be loaded using <code>data(&quot;gun_deaths&quot;)</code>. Use the help function in R (<code>?gun_deaths</code>) to get detailed information on the variables and coding information.</p>
</div>
<div id="explore-the-data" class="section level2">
<h2>Explore the data</h2>
<p>Using your knowledge of <code>dplyr</code> and <code>ggplot2</code>, use summary statistics and graphs to answer the following questions:</p>
<ol style="list-style-type: decimal">
<li>In what month do the most gun deaths occur?</li>
<li>What is the most common intent in gun deaths? Do most people killed by guns die in suicides, homicides, or accidental shootings?</li>
<li>What is the average age of females killed by guns?</li>
<li>How many white males with at least a high school education were killed by guns in 2012?</li>
<li>Which season of the year has the most gun deaths? Assume that
<ul>
<li>Winter = January-March</li>
<li>Spring = April-June</li>
<li>Summer = July-September</li>
<li>Fall = October-December</li>
<li><strong>Hint</strong>: you need to convert a continuous variable into a categorical variable. <a href="https://www.google.com">Find a function that does that.</a></li>
</ul></li>
<li>What is the relationship between race and intent? For example, are whites who are killed by guns more likely to die because of suicide or homicide? How does this compare to blacks and hispanics?</li>
<li>Are police-involved gun deaths significantly different from other gun deaths? Assess the relationship between police involvement and age, police involvement and race, and the intersection of all three variables.</li>
</ol>
<div id="formatting-graphs" class="section level3">
<h3>Formatting graphs</h3>
<p>Make sure your graphs have:</p>
<ul>
<li><a href="http://www.cookbook-r.com/Graphs/Titles_(ggplot2)/">A title</a></li>
<li>Labels on the axes (see <code>?labs</code> for details)</li>
</ul>
<p>This is just a starting point. Consider adopting your own color scales, <a href="http://www.cookbook-r.com/Graphs/Legends_(ggplot2)/">taking control of your legends (if any)</a>, playing around with <a href="http://docs.ggplot2.org/dev/vignettes/themes.html">themes</a>, etc.</p>
</div>
<div id="formatting-tables" class="section level3">
<h3>Formatting tables</h3>
<p>When presenting tabular data (aka <code>dplyr::summarize()</code>), make sure you format it correctly. Use the <code>kable()</code> function from the <code>knitr</code> package to format the table for the final document. For instance, this is a poorly presented table summarizing where gun deaths occurred:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># load packages</span>
<span class="kw">library</span>(tidyverse)
<span class="kw">library</span>(knitr)
<span class="kw">library</span>(rcfss)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># calculate total gun deaths by location</span>
<span class="kw">count</span>(gun_deaths, place)</code></pre></div>
<pre><code>## # A tibble: 11 x 2
##                      place     n
##                      &lt;chr&gt; &lt;int&gt;
##  1                    Farm   470
##  2                    Home 60486
##  3 Industrial/construction   248
##  4         Other specified 13751
##  5       Other unspecified  8867
##  6 Residential institution   203
##  7       School/instiution   671
##  8                  Sports   128
##  9                  Street 11151
## 10      Trade/service area  3439
## 11                    &lt;NA&gt;  1384</code></pre>
<p>Instead, use <code>kable()</code> to format the table, add a caption, and label the columns:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">count</span>(gun_deaths, place) %&gt;%
<span class="st">  </span><span class="kw">kable</span>(<span class="dt">caption =</span> <span class="st">&quot;Gun deaths in the United States (2012-2014), by location&quot;</span>,
        <span class="dt">col.names =</span> <span class="kw">c</span>(<span class="st">&quot;Location&quot;</span>, <span class="st">&quot;Number of deaths&quot;</span>))</code></pre></div>
<table>
<caption>Gun deaths in the United States (2012-2014), by location</caption>
<thead>
<tr class="header">
<th align="left">Location</th>
<th align="right">Number of deaths</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Farm</td>
<td align="right">470</td>
</tr>
<tr class="even">
<td align="left">Home</td>
<td align="right">60486</td>
</tr>
<tr class="odd">
<td align="left">Industrial/construction</td>
<td align="right">248</td>
</tr>
<tr class="even">
<td align="left">Other specified</td>
<td align="right">13751</td>
</tr>
<tr class="odd">
<td align="left">Other unspecified</td>
<td align="right">8867</td>
</tr>
<tr class="even">
<td align="left">Residential institution</td>
<td align="right">203</td>
</tr>
<tr class="odd">
<td align="left">School/instiution</td>
<td align="right">671</td>
</tr>
<tr class="even">
<td align="left">Sports</td>
<td align="right">128</td>
</tr>
<tr class="odd">
<td align="left">Street</td>
<td align="right">11151</td>
</tr>
<tr class="even">
<td align="left">Trade/service area</td>
<td align="right">3439</td>
</tr>
<tr class="odd">
<td align="left">NA</td>
<td align="right">1384</td>
</tr>
</tbody>
</table>
<p>Run <code>?kable</code> in the console to see how additional options.</p>
</div>
</div>
</div>
<div id="submit-the-assignment" class="section level1">
<h1>Submit the assignment</h1>
<p>Your assignment should be submitted as an R Markdown document. <strong>Don’t know what an R Markdown document is? <a href="http://rmarkdown.rstudio.com/lesson-1.html">Read this!</a> Or <a href="http://r4ds.had.co.nz/r-markdown.html">this!</a></strong> I have included starter files for you to modify to complete the assignment, so you are not starting completely from scratch.</p>
<p>Follow instructions on <a href="hw00_homework_guidelines.html#homework_workflow">homework workflow</a>. As part of the pull request, you’re encouraged to reflect on what was hard/easy, problems you solved, helpful tutorials you read, etc.</p>
</div>
<div id="rubric" class="section level1">
<h1>Rubric</h1>
<p>Check minus: Displays minimal effort. Doesn’t complete all components. Code is poorly written and not documented. Uses the same type of plot for each graph, or doesn’t use plots appropriate for the variables being analyzed. No record of commits other than the final push to GitHub.</p>
<p>Check: Solid effort. Hits all the elements. No clear mistakes. Easy to follow (both the code and the output). Nothing spectacular, either bad or good.</p>
<p>Check plus: Finished all components of the assignment correctly. Code is well-documented (both self-documented and with additional comments as necessary). Graphs and tables are properly labeled. Uses multiple commits to back up and show a progression in the work. Analysis is clear and easy to follow, either because graphs are labeled clearly or you’ve written additional text to describe how you interpret the output.</p>
</div>

<p>This work is licensed under the  <a href="http://creativecommons.org/licenses/by-nc/4.0/">CC BY-NC 4.0 Creative Commons License</a>.</p>



</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
