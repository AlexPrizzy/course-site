<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>Graphing tips for ggplot2 (and life)</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/readable.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-45631879-2', 'auto');
  ga('send', 'pageview');

</script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 66px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 71px;
  margin-top: -71px;
}

.section h2 {
  padding-top: 71px;
  margin-top: -71px;
}
.section h3 {
  padding-top: 71px;
  margin-top: -71px;
}
.section h4 {
  padding-top: 71px;
  margin-top: -71px;
}
.section h5 {
  padding-top: 71px;
  margin-top: -71px;
}
.section h6 {
  padding-top: 71px;
  margin-top: -71px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->




<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
  padding-left: 25px;
  text-indent: 0;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Computing for the Social Sciences</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="faq.html">FAQ</a>
</li>
<li>
  <a href="syllabus.html">Syllabus</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Graphing tips for <code>ggplot2</code> (and life)</h1>

</div>


<div id="overview" class="section level1">
<h1>Overview</h1>
<ul>
<li>Introduce <code>theme()</code> and customizing graphs using <code>ggplot2</code></li>
<li>Demonstrate alternative base themes</li>
<li>Demonstrate how to customize specific elements of <code>ggplot2</code> graphs</li>
</ul>
</div>
<div id="customizing-the-look-and-feel" class="section level1">
<h1>Customizing the look and feel</h1>
<p><code>ggplot2</code> includes many default settings that allow you to quickly begin graphing and visualizing data. For rough cuts and quick examinations of your data, these defaults are adequate. For final presentation, you may wish to customize the visual aesthetics of the graph. Here are some important components that are worth learning how to tweak and adjust.</p>
<p>Let’s begin with a scatterplot of Population against Area from the <code>midwest</code> dataset.<a href="#fn1" class="footnoteRef" id="fnref1"><sup>1</sup></a> The point’s color and size vary based on <code>state</code> (categorical) and <code>popdensity</code> (continuous) columns respectively.</p>
<p>The below plot has the essential components such as the title, axis labels, and legend setup nicely. But we can go further in modifying these components to establish a different “look”.</p>
<p>Most of the requirements related to look and feel can be achieved using the <code>theme()</code> function. It accepts a large number of arguments. Type <code>?theme</code> in the R console and see for yourself, or check out the <a href="http://docs.ggplot2.org/dev/vignettes/themes.html">vignette on <code>ggplot2</code> themes written by the package author</a>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Setup</span>
<span class="kw">library</span>(tidyverse)
<span class="kw">data</span>(<span class="st">&quot;midwest&quot;</span>, <span class="dt">package =</span> <span class="st">&quot;ggplot2&quot;</span>)

<span class="co"># Add plot components</span>
gg &lt;-<span class="st"> </span><span class="kw">ggplot</span>(midwest, <span class="kw">aes</span>(<span class="dt">x =</span> area, <span class="dt">y =</span> poptotal,
                          <span class="dt">color =</span> state, <span class="dt">size =</span> popdensity)) +<span class="st"> </span>
<span class="st">  </span><span class="kw">geom_point</span>() +<span class="st"> </span>
<span class="st">  </span><span class="kw">geom_smooth</span>(<span class="dt">se =</span> <span class="ot">FALSE</span>) +
<span class="st">  </span><span class="kw">xlim</span>(<span class="dv">0</span>, <span class="fl">0.1</span>) +
<span class="st">  </span><span class="kw">ylim</span>(<span class="dv">0</span>, <span class="dv">500000</span>) +
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Area vs. Population&quot;</span>,
       <span class="dt">x =</span> <span class="st">&quot;Area&quot;</span>,
       <span class="dt">y =</span> <span class="st">&quot;Population&quot;</span>,
       <span class="dt">caption =</span> <span class="st">&quot;Source: midwest&quot;</span>)

<span class="co"># Call plot</span>
gg</code></pre></div>
<p><img src="lab03_files/figure-html/base-1.png" width="672" /></p>
<div id="default-themes" class="section level2">
<h2>Default themes</h2>
<p>The default theme in <code>ggplot2</code> is <code>theme_gray</code>. There are a set of pre-made themes you can use which are cohesive themes that don’t require modifying individual elements.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">gg +<span class="st"> </span><span class="kw">theme_gray</span>()</code></pre></div>
<p><img src="lab03_files/figure-html/unnamed-chunk-1-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">gg +<span class="st"> </span><span class="kw">theme_bw</span>()</code></pre></div>
<p><img src="lab03_files/figure-html/unnamed-chunk-1-2.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">gg +<span class="st"> </span><span class="kw">theme_linedraw</span>()</code></pre></div>
<p><img src="lab03_files/figure-html/unnamed-chunk-1-3.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">gg +<span class="st"> </span><span class="kw">theme_light</span>()</code></pre></div>
<p><img src="lab03_files/figure-html/unnamed-chunk-1-4.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">gg +<span class="st"> </span><span class="kw">theme_dark</span>()</code></pre></div>
<p><img src="lab03_files/figure-html/unnamed-chunk-1-5.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">gg +<span class="st"> </span><span class="kw">theme_minimal</span>()</code></pre></div>
<p><img src="lab03_files/figure-html/unnamed-chunk-1-6.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">gg +<span class="st"> </span><span class="kw">theme_classic</span>()</code></pre></div>
<p><img src="lab03_files/figure-html/unnamed-chunk-1-7.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">gg +<span class="st"> </span><span class="kw">theme_void</span>()</code></pre></div>
<p><img src="lab03_files/figure-html/unnamed-chunk-1-8.png" width="672" /></p>
<p>I personally prefer to use <code>theme_bw()</code> as it provides excellent contrast when viewed using a projector or large LCD screen, so let’s set that as the default theme and change <code>gg</code> to use <code>theme_bw()</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">theme_set</span>(<span class="kw">theme_bw</span>())

gg &lt;-<span class="st"> </span>gg +
<span class="st">  </span><span class="kw">theme_bw</span>()
gg</code></pre></div>
<p><img src="lab03_files/figure-html/unnamed-chunk-2-1.png" width="672" /></p>
</div>
<div id="modifying-specific-elements" class="section level2">
<h2>Modifying specific elements</h2>
<p>The arguments passed to <code>theme()</code> components must be set using special <code>element_type()</code> functions. There are 4 major types.</p>
<ol style="list-style-type: decimal">
<li><code>element_text()</code> - since the title, subtitle and captions are textual items, <code>element_text()</code> function is used to set it.</li>
<li><code>element_line()</code> - likewise <code>element_line()</code> is used to modify line based components such as the axis lines, major and minor grid lines, etc.</li>
<li><code>element_rect()</code> - modifies rectangle components such as plot and panel background.</li>
<li><code>element_blank()</code> - turns off displaying the theme item.</li>
</ol>
<p>Let’s examine a number of tasks related to changing the plot output, starting with modifying the title and axis texts.</p>
</div>
</div>
<div id="adding-plot-and-axis-titles" class="section level1">
<h1>Adding plot and axis titles</h1>
<p>Plot and axis titles and the axis text are part of the plot’s theme. Therefore, it can be modified using the <code>theme()</code> function. The <code>theme()</code> function accepts one of the four <code>element_type()</code> functions mentioned above as arguments. Since the plot and axis titles are textual components, <code>element_text()</code> is used to modify them.</p>
<p>Below, I have changed the size, color, face, and line-height. The axis text can be rotated by changing the <code>angle</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Modify theme components</span>
gg +
<span class="st">  </span><span class="kw">theme</span>(
    <span class="co"># title</span>
    <span class="dt">plot.title =</span> <span class="kw">element_text</span>(
      <span class="dt">size =</span> <span class="dv">20</span>,
      <span class="dt">face =</span> <span class="st">&quot;bold&quot;</span>,
      <span class="dt">family =</span> <span class="st">&quot;American Typewriter&quot;</span>,
      <span class="dt">color =</span> <span class="st">&quot;tomato&quot;</span>,
      <span class="dt">hjust =</span> <span class="fl">0.5</span>,
      <span class="dt">lineheight =</span> <span class="fl">1.2</span>
    ),
    <span class="co"># subtitle</span>
    <span class="dt">plot.subtitle =</span> <span class="kw">element_text</span>(
      <span class="dt">size =</span> <span class="dv">15</span>,
      <span class="dt">family =</span> <span class="st">&quot;American Typewriter&quot;</span>,
      <span class="dt">face =</span> <span class="st">&quot;bold&quot;</span>,
      <span class="dt">hjust =</span> <span class="fl">0.5</span>
    ),
    <span class="co"># caption</span>
    <span class="dt">plot.caption =</span> <span class="kw">element_text</span>(<span class="dt">size =</span> <span class="dv">15</span>),
    <span class="co"># X axis title</span>
    <span class="dt">axis.title.x =</span> <span class="kw">element_text</span>(<span class="dt">vjust =</span> <span class="dv">10</span>,
                                <span class="dt">size =</span> <span class="dv">15</span>),
    <span class="co"># Y axis title</span>
    <span class="dt">axis.title.y =</span> <span class="kw">element_text</span>(<span class="dt">size =</span> <span class="dv">15</span>),
    <span class="co"># X axis text</span>
    <span class="dt">axis.text.x =</span> <span class="kw">element_text</span>(
      <span class="dt">size =</span> <span class="dv">10</span>,
      <span class="dt">angle =</span> <span class="dv">30</span>,
      <span class="dt">vjust =</span> .<span class="dv">5</span>
    ),
    <span class="co"># Y axis text</span>
    <span class="dt">axis.text.y =</span> <span class="kw">element_text</span>(<span class="dt">size =</span> <span class="dv">10</span>)
  )</code></pre></div>
<p><img src="lab03_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
<ul>
<li><code>vjust</code>, controls the vertical spacing between title (or label) and plot.</li>
<li><code>hjust</code>, controls the horizontal spacing. Setting it to 0.5 centers the title.</li>
<li><code>family</code>, is used to set a new font</li>
<li><code>face</code>, sets the font face (“plain”, “italic”, “bold”, “bold.italic”)</li>
</ul>
<p>This example covers just some of the potential modifications. Use <code>?theme</code> to look at the full list of components you can modify.</p>
</div>
<div id="modifying-the-legend" class="section level1">
<h1>Modifying the legend</h1>
<p>Whenever your plot’s <code>geom_</code> (like points, lines, bars, etc) is set to change the aesthetics (<code>fill</code>, <code>size</code>, <code>col</code>, <code>shape</code>, or <code>stroke</code>) based on another column, as in <code>geom_point(aes(color = state, size = popdensity))</code>, a legend is automatically drawn.</p>
<blockquote>
<p>If you are creating a geom where the aesthetics are static, a legend is <strong>not</strong> drawn by default. The below examples are for cases where you have the legend created automatically.</p>
</blockquote>
<div id="how-to-change-a-legend-title" class="section level2">
<h2>How to change a legend title</h2>
<p>We have two legends, one each for color and size. The size is based on a continuous variable while the color is based on a categorical (discrete) variable.</p>
<p>There are 3 ways to change the legend title.</p>
<div id="method-1-using-labs" class="section level3">
<h3>Method 1: Using <code>labs()</code></h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">gg +
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">color =</span> <span class="st">&quot;State&quot;</span>,
       <span class="dt">size =</span> <span class="st">&quot;Density&quot;</span>)</code></pre></div>
<p><img src="lab03_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
</div>
<div id="method-2-using-guides" class="section level3">
<h3>Method 2: Using <code>guides()</code></h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">gg +
<span class="st">  </span><span class="kw">guides</span>(<span class="dt">color =</span> <span class="kw">guide_legend</span>(<span class="st">&quot;State&quot;</span>),
         <span class="dt">size =</span> <span class="kw">guide_legend</span>(<span class="st">&quot;Density&quot;</span>))</code></pre></div>
<p><img src="lab03_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
</div>
<div id="method-3-using-scale_aesthetic_vartype-format" class="section level3">
<h3>Method 3: Using <code>scale_aesthetic_vartype()</code> format</h3>
<p>The format of <code>scale_aesthetic_vartype()</code> allows you to turn off the legend for one particular aesthetic, leaving the rest in place. This can be done just by setting <code>guide = FALSE</code>. For example, if the legend is for size of points based on a continuous variable, then <code>scale_size_continuous()</code> would be the right function to use.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">gg +
<span class="st">  </span><span class="kw">scale_color_discrete</span>(<span class="dt">name =</span> <span class="st">&quot;State&quot;</span>) +
<span class="st">  </span><span class="co"># turn off legend for size</span>
<span class="st">  </span><span class="kw">scale_size_continuous</span>(<span class="dt">name =</span> <span class="st">&quot;Density&quot;</span>, <span class="dt">guide =</span> <span class="ot">FALSE</span>)</code></pre></div>
<p><img src="lab03_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
</div>
</div>
<div id="how-to-change-legend-labels-and-point-colors-for-categories" class="section level2">
<h2>How to change legend labels and point colors for categories</h2>
<p>This can be done using the respective <code>scale_aesthetic_manual()</code> function. The new legend labels are supplied as a character vector to the <code>labels</code> argument. If you want to change the color of the categories, it can be assigned to the <code>values</code> argument as shown in below example.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">gg +
<span class="st">  </span><span class="kw">scale_color_manual</span>(<span class="dt">name =</span> <span class="st">&quot;State&quot;</span>, 
                     <span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">&quot;Illinois&quot;</span>, 
                                <span class="st">&quot;Indiana&quot;</span>, 
                                <span class="st">&quot;Michigan&quot;</span>, 
                                <span class="st">&quot;Ohio&quot;</span>, 
                                <span class="st">&quot;Wisconsin&quot;</span>), 
                     <span class="dt">values =</span> <span class="kw">c</span>(<span class="st">&quot;IL&quot;</span> =<span class="st"> &quot;blue&quot;</span>, 
                                <span class="st">&quot;IN&quot;</span> =<span class="st"> &quot;red&quot;</span>, 
                                <span class="st">&quot;MI&quot;</span> =<span class="st"> &quot;green&quot;</span>, 
                                <span class="st">&quot;OH&quot;</span> =<span class="st"> &quot;brown&quot;</span>, 
                                <span class="st">&quot;WI&quot;</span> =<span class="st"> &quot;orange&quot;</span>))</code></pre></div>
<p><img src="lab03_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
</div>
<div id="change-the-order-of-the-legend" class="section level2">
<h2>Change the order of the legend</h2>
<p>In case you want to show the legend for color (<code>State</code>) before size (<code>Density</code>), it can be done with the <code>guides()</code> function. The <code>order</code> of the legend has to be set as desired.</p>
<p>If you want to change the position of the labels inside the legend, set it in the required order as seen in previous example.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">gg +
<span class="st">  </span><span class="kw">guides</span>(<span class="dt">color =</span> <span class="kw">guide_legend</span>(<span class="dt">order =</span> <span class="dv">2</span>),
         <span class="dt">size =</span> <span class="kw">guide_legend</span>(<span class="dt">order =</span> <span class="dv">1</span>))</code></pre></div>
<p><img src="lab03_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
</div>
<div id="how-to-style-the-legend-title-text-and-key" class="section level2">
<h2>How to style the legend title, text, and key</h2>
<p>The styling of legend title, text, key and the guide can also be adjusted. The legend’s key is a figure-like element, so it has to be set using <code>element_rect()</code> function.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">gg +
<span class="st">  </span><span class="kw">theme</span>(
    <span class="dt">legend.title =</span> <span class="kw">element_text</span>(<span class="dt">size =</span> <span class="dv">12</span>, <span class="dt">color =</span> <span class="st">&quot;firebrick&quot;</span>),
    <span class="dt">legend.text =</span> <span class="kw">element_text</span>(<span class="dt">size =</span> <span class="dv">10</span>),
    <span class="dt">legend.key =</span> <span class="kw">element_rect</span>(<span class="dt">fill =</span> <span class="st">&#39;springgreen&#39;</span>)
  ) +
<span class="st">  </span><span class="kw">guides</span>(<span class="dt">color =</span> <span class="kw">guide_legend</span>(<span class="dt">override.aes =</span> <span class="kw">list</span>(<span class="dt">size =</span> <span class="dv">2</span>, <span class="dt">stroke =</span> <span class="fl">1.5</span>))) </code></pre></div>
<p><img src="lab03_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
</div>
<div id="how-to-remove-the-legend-and-change-the-legend-position" class="section level2">
<h2>How to remove the legend and change the legend position</h2>
<p>The legend’s position inside the plot is an aspect of the theme, so it can be modified using the <code>theme()</code> function. If you want to place the legend inside the plot, you can additionally control the hinge point of the legend using <code>legend.justification</code>.</p>
<p>The <code>legend.position</code> is the x and y axis position in the chart area, where <code>(0,0)</code> is bottom left of the chart and <code>(1,1)</code> is top right. Likewise, <code>legend.justification</code> refers to the hinge point inside the legend.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># No legend</span>
gg +<span class="st"> </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">&quot;None&quot;</span>) +<span class="st"> </span>
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">subtitle =</span> <span class="st">&quot;No Legend&quot;</span>)</code></pre></div>
<p><img src="lab03_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Legend to the left</span>
gg +<span class="st"> </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">&quot;left&quot;</span>) +<span class="st"> </span>
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">subtitle =</span> <span class="st">&quot;Legend on the Left&quot;</span>)</code></pre></div>
<p><img src="lab03_files/figure-html/unnamed-chunk-10-2.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># legend at the bottom and horizontal</span>
gg +<span class="st"> </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">&quot;bottom&quot;</span>, <span class="dt">legend.box =</span> <span class="st">&quot;horizontal&quot;</span>) +<span class="st"> </span>
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">subtitle =</span> <span class="st">&quot;Legend at Bottom&quot;</span>)</code></pre></div>
<p><img src="lab03_files/figure-html/unnamed-chunk-10-3.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># legend at bottom-right, inside the plot</span>
gg +<span class="st"> </span><span class="kw">theme</span>(
  <span class="dt">legend.title =</span> <span class="kw">element_text</span>(<span class="dt">size =</span> <span class="dv">12</span>, <span class="dt">color =</span> <span class="st">&quot;salmon&quot;</span>, <span class="dt">face =</span> <span class="st">&quot;bold&quot;</span>),
  <span class="dt">legend.justification =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">0</span>),
  <span class="dt">legend.position =</span> <span class="kw">c</span>(<span class="fl">0.95</span>, <span class="fl">0.05</span>),
  <span class="dt">legend.background =</span> <span class="kw">element_blank</span>(),
  <span class="dt">legend.key =</span> <span class="kw">element_blank</span>()
) +
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">subtitle =</span> <span class="st">&quot;Legend: Bottom-Right Inside the Plot&quot;</span>)</code></pre></div>
<p><img src="lab03_files/figure-html/unnamed-chunk-10-4.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># legend at top-left, inside the plot</span>
gg +<span class="st"> </span><span class="kw">theme</span>(
  <span class="dt">legend.title =</span> <span class="kw">element_text</span>(<span class="dt">size =</span> <span class="dv">12</span>, <span class="dt">color =</span> <span class="st">&quot;salmon&quot;</span>, <span class="dt">face =</span> <span class="st">&quot;bold&quot;</span>),
  <span class="dt">legend.justification =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">1</span>),
  <span class="dt">legend.position =</span> <span class="kw">c</span>(<span class="fl">0.05</span>, <span class="fl">0.95</span>),
  <span class="dt">legend.background =</span> <span class="kw">element_blank</span>(),
  <span class="dt">legend.key =</span> <span class="kw">element_blank</span>()
) +
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">subtitle =</span> <span class="st">&quot;Legend: Top-Left Inside the Plot&quot;</span>)</code></pre></div>
<p><img src="lab03_files/figure-html/unnamed-chunk-10-5.png" width="672" /></p>
</div>
</div>
<div id="adding-text-label-and-annotation" class="section level1">
<h1>Adding text, label, and annotation</h1>
<div id="how-to-add-text-and-labels-around-the-points" class="section level2">
<h2>How to add text and labels around the points</h2>
<p>Let’s try adding some text. We will add text to only those counties that have population greater than 400K. In order to achieve this, I create a subsetted dataframe (<code>midwest_sub</code>) that contains only the counties that meet the condition above. Then, we draw the <code>geom_text</code> and <code>geom_label</code> with this new dataframe as the <code>data</code> source. This will ensure that labels (<code>geom_label</code>) are added only for the points contained in the new dataframe.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Filter required rows.</span>
midwest_sub &lt;-<span class="st"> </span>midwest %&gt;%
<span class="st">  </span><span class="kw">filter</span>(poptotal &gt;<span class="st"> </span><span class="dv">400000</span>) %&gt;%
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">large_county =</span> <span class="kw">ifelse</span>(poptotal &gt;<span class="st"> </span><span class="dv">300000</span>, county, <span class="st">&quot;&quot;</span>))

<span class="co"># Plot text and label</span>
## Text
gg +
<span class="st">  </span><span class="kw">geom_text</span>(<span class="kw">aes</span>(<span class="dt">label =</span> large_county), <span class="dt">size =</span> <span class="dv">2</span>, <span class="dt">data =</span> midwest_sub) +
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">subtitle =</span> <span class="st">&quot;With ggplot2::geom_text&quot;</span>) +
<span class="st">  </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">&quot;None&quot;</span>)</code></pre></div>
<p><img src="lab03_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## Label
gg +
<span class="st">  </span><span class="kw">geom_label</span>(
    <span class="kw">aes</span>(<span class="dt">label =</span> large_county),
    <span class="dt">size =</span> <span class="dv">2</span>,
    <span class="dt">data =</span> midwest_sub,
    <span class="dt">alpha =</span> <span class="fl">0.25</span>
  ) +
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">subtitle =</span> <span class="st">&quot;With ggplot2::geom_label&quot;</span>) +
<span class="st">  </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">&quot;None&quot;</span>)</code></pre></div>
<p><img src="lab03_files/figure-html/unnamed-chunk-11-2.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Plot text and label that REPELS each other</span>
<span class="kw">library</span>(ggrepel)

## Text
gg +
<span class="st">  </span><span class="kw">geom_text_repel</span>(<span class="kw">aes</span>(<span class="dt">label =</span> large_county), <span class="dt">size =</span> <span class="dv">2</span>, <span class="dt">data =</span> midwest_sub) +
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">subtitle =</span> <span class="st">&quot;With ggrepel::geom_text_repel&quot;</span>) +
<span class="st">  </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">&quot;None&quot;</span>)</code></pre></div>
<p><img src="lab03_files/figure-html/unnamed-chunk-11-3.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## Repel
gg +
<span class="st">  </span><span class="kw">geom_label_repel</span>(<span class="kw">aes</span>(<span class="dt">label =</span> large_county), <span class="dt">size =</span> <span class="dv">2</span>, <span class="dt">data =</span> midwest_sub) +
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">subtitle =</span> <span class="st">&quot;With ggrepel::geom_label_repel&quot;</span>) +
<span class="st">  </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">&quot;None&quot;</span>)</code></pre></div>
<p><img src="lab03_files/figure-html/unnamed-chunk-11-4.png" width="672" /></p>
<p>Since the label is looked up from a different data frame, we need to set the data argument in the new <code>geom_</code> calls.</p>
</div>
<div id="how-to-add-annotations-anywhere-inside-the-plot" class="section level2">
<h2>How to add annotations anywhere inside the plot</h2>
<p>Let’s see how to add annotation to any specific point of the chart. It can be done with the <code>annotate()</code> function. For instance, to add text to the graph we use a “text” geom and give it a <code>label</code> containing the text we want to print on the graph. All we need to do then is specify the x and y coordinates on the graph where it should go.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">gg +
<span class="st">  </span><span class="kw">annotate</span>(<span class="st">&quot;text&quot;</span>, <span class="dt">x =</span> <span class="fl">0.075</span>, <span class="dt">y =</span> <span class="dv">300000</span>, <span class="dt">label =</span> <span class="st">&quot;This text is amazing!&quot;</span>)</code></pre></div>
<p><img src="lab03_files/figure-html/unnamed-chunk-12-1.png" width="672" /></p>
</div>
</div>
<div id="flipping-and-reversing-the-x-and-y-axis" class="section level1">
<h1>Flipping and reversing the X and Y axis</h1>
<div id="how-to-flip-the-x-and-y-axis" class="section level2">
<h2>How to flip the X and Y axis</h2>
<p>Just add <code>coord_flip()</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">gg +
<span class="st">  </span><span class="kw">coord_flip</span>()</code></pre></div>
<p><img src="lab03_files/figure-html/unnamed-chunk-13-1.png" width="672" /></p>
</div>
<div id="how-to-reverse-the-scale-of-an-axis" class="section level2">
<h2>How to reverse the scale of an axis</h2>
<p>Use <code>scale_x_reverse()</code> for X axis and <code>scale_y_reverse()</code> for Y axis.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">gg +<span class="st"> </span>
<span class="st">  </span><span class="kw">scale_x_reverse</span>() +<span class="st"> </span>
<span class="st">  </span><span class="kw">scale_y_reverse</span>()</code></pre></div>
<p><img src="lab03_files/figure-html/unnamed-chunk-14-1.png" width="672" /></p>
</div>
</div>
<div id="faceting-draw-multiple-plots-within-one-figure" class="section level1">
<h1>Faceting: draw multiple plots within one figure</h1>
<p>Let’s use the <code>mpg</code> dataset for this one. It is available in the <code>ggplot2</code> package.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">data</span>(mpg, <span class="dt">package =</span> <span class="st">&quot;ggplot2&quot;</span>)  <span class="co"># load data</span>

g &lt;-<span class="st"> </span><span class="kw">ggplot</span>(mpg, <span class="kw">aes</span>(<span class="dt">x =</span> displ, <span class="dt">y =</span> hwy)) +
<span class="st">  </span><span class="kw">geom_point</span>() +
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;hwy vs displ&quot;</span>, <span class="dt">caption =</span> <span class="st">&quot;Source: mpg&quot;</span>) +
<span class="st">  </span><span class="kw">geom_smooth</span>(<span class="dt">method =</span> <span class="st">&quot;lm&quot;</span>, <span class="dt">se =</span> <span class="ot">FALSE</span>)
g</code></pre></div>
<p><img src="lab03_files/figure-html/mpg-1.png" width="672" /></p>
<p>We have a simple chart of highway mileage <code>(hwy)</code> against the engine displacement <code>(displ)</code> for the whole dataset. But what if you want to study how this relationship varies for different classes of vehicles?</p>
<div id="facet-wrap" class="section level2">
<h2>Facet wrap</h2>
<p><code>facet_wrap()</code> is used to break down a large plot into multiple small plots for individual categories. It takes a formula as the main argument. The items to the left of <code>~</code> forms the rows while those to the right form the columns.</p>
<blockquote>
<p>By default, all the plots share the same scale in both X and Y axis. You can set them free by setting <code>scales = 'free'</code> but this way it could be harder to compare between groups.</p>
</blockquote>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Facet wrap with common scales</span>
g +
<span class="st">  </span><span class="kw">facet_wrap</span>( ~<span class="st"> </span>class, <span class="dt">nrow =</span> <span class="dv">3</span>) +
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;hwy vs displ&quot;</span>,
       <span class="dt">caption =</span> <span class="st">&quot;Source: mpg&quot;</span>,
       <span class="dt">subtitle =</span> <span class="st">&quot;Ggplot2 - Faceting - Multiple plots in one figure&quot;</span>)</code></pre></div>
<p><img src="lab03_files/figure-html/unnamed-chunk-15-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Facet wrap with free scales</span>
g +
<span class="st">  </span><span class="kw">facet_wrap</span>( ~<span class="st"> </span>class, <span class="dt">scales =</span> <span class="st">&quot;free&quot;</span>) +
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;hwy vs displ&quot;</span>,
       <span class="dt">caption =</span> <span class="st">&quot;Source: mpg&quot;</span>,
       <span class="dt">subtitle =</span> <span class="st">&quot;Ggplot2 - Faceting - Multiple plots in one figure with free scales&quot;</span>)</code></pre></div>
<p><img src="lab03_files/figure-html/unnamed-chunk-15-2.png" width="672" /></p>
</div>
<div id="facet-grid" class="section level2">
<h2>Facet grid</h2>
<p>The headings of the middle and bottom rows take up significant space. The <code>facet_grid()</code> would get rid of it and give more area to the charts. The main difference with <code>facet_grid</code> is that it is not possible to choose the number of rows and columns in the grid.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">g1 &lt;-<span class="st"> </span>g +
<span class="st">  </span><span class="kw">facet_grid</span>(manufacturer ~<span class="st"> </span>class)
g1</code></pre></div>
<p><img src="lab03_files/figure-html/unnamed-chunk-16-1.png" width="672" /></p>
<p>Let’s make one more to vary by cylinder.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">g2 &lt;-<span class="st"> </span>g +
<span class="st">  </span><span class="kw">facet_grid</span>(cyl ~<span class="st"> </span>class)
g2</code></pre></div>
<p><img src="lab03_files/figure-html/unnamed-chunk-17-1.png" width="672" /></p>
</div>
<div id="combining-multiple-plots-into-a-single-graph" class="section level2">
<h2>Combining multiple plots into a single graph</h2>
<p>It is possible to layout both these charts in the same graph using the <code>gridExtra</code> package.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(gridExtra)
<span class="kw">grid.arrange</span>(g1, g2, <span class="dt">ncol =</span> <span class="dv">2</span>)</code></pre></div>
<p><img src="lab03_files/figure-html/unnamed-chunk-18-1.png" width="672" /></p>
</div>
</div>
<div id="modifying-plot-background-major-and-minor-axis" class="section level1">
<h1>Modifying plot background, major and minor axis</h1>
<div id="how-to-change-the-plot-background" class="section level2">
<h2>How to change the plot background</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># change plot background elements</span>
g +
<span class="st">  </span><span class="kw">theme</span>(
    <span class="dt">panel.background =</span> <span class="kw">element_rect</span>(<span class="dt">fill =</span> <span class="st">&#39;khaki&#39;</span>),
    <span class="dt">panel.grid.major =</span> <span class="kw">element_line</span>(<span class="dt">color =</span> <span class="st">&quot;burlywood&quot;</span>, <span class="dt">size =</span> <span class="fl">1.5</span>),
    <span class="dt">panel.grid.minor =</span> <span class="kw">element_line</span>(
      <span class="dt">colour =</span> <span class="st">&quot;tomato&quot;</span>,
      <span class="dt">size =</span> .<span class="dv">25</span>,
      <span class="dt">linetype =</span> <span class="st">&quot;dashed&quot;</span>
    ),
    <span class="dt">panel.border =</span> <span class="kw">element_blank</span>(),
    <span class="dt">axis.line.x =</span> <span class="kw">element_line</span>(
      <span class="dt">colour =</span> <span class="st">&quot;darkorange&quot;</span>,
      <span class="dt">size =</span> <span class="fl">1.5</span>,
      <span class="dt">lineend =</span> <span class="st">&quot;butt&quot;</span>
    ),
    <span class="dt">axis.line.y =</span> <span class="kw">element_line</span>(<span class="dt">color =</span> <span class="st">&quot;darkorange&quot;</span>,
                               <span class="dt">size =</span> <span class="fl">1.5</span>)
  ) +
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Modified Background&quot;</span>,
       <span class="dt">subtitle =</span> <span class="st">&quot;How to Change Major and Minor grid, Axis Lines, No Border&quot;</span>)</code></pre></div>
<p><img src="lab03_files/figure-html/unnamed-chunk-19-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># change plot margins</span>
g +
<span class="st">  </span><span class="kw">theme</span>(<span class="dt">plot.background =</span> <span class="kw">element_rect</span>(<span class="dt">fill =</span> <span class="st">&quot;salmon&quot;</span>),
        <span class="dt">plot.margin =</span> <span class="kw">unit</span>(<span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">1</span>), <span class="st">&quot;cm&quot;</span>)) +<span class="st">  </span><span class="co"># top, right, bottom, left</span>
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Modified Background&quot;</span>, 
       <span class="dt">subtitle =</span> <span class="st">&quot;How to Change Plot Margin&quot;</span>)  </code></pre></div>
<p><img src="lab03_files/figure-html/unnamed-chunk-19-2.png" width="672" /></p>
</div>
<div id="remove-major-and-minor-grid-change-border-axis-title-text-and-ticks" class="section level2">
<h2>Remove major and minor grid, change border, axis title, text, and ticks</h2>
<p>By using the <code>element_blank()</code> type, we can turn off any or all of these components.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">g +
<span class="st">  </span><span class="kw">theme</span>(
    <span class="dt">panel.grid.major =</span> <span class="kw">element_blank</span>(),
    <span class="dt">panel.grid.minor =</span> <span class="kw">element_blank</span>(),
    <span class="dt">panel.border =</span> <span class="kw">element_blank</span>(),
    <span class="dt">axis.title =</span> <span class="kw">element_blank</span>(),
    <span class="dt">axis.text =</span> <span class="kw">element_blank</span>(),
    <span class="dt">axis.ticks =</span> <span class="kw">element_blank</span>()
  ) +
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Modified Background&quot;</span>,
       <span class="dt">subtitle =</span> <span class="st">&quot;How to remove major and minor axis grid, border, axis title, text and ticks&quot;</span>) </code></pre></div>
<p><img src="lab03_files/figure-html/unnamed-chunk-20-1.png" width="672" /></p>
</div>
</div>
<div id="acknowledgements" class="section level1 toc-ignore">
<h1>Acknowledgements</h1>
<ul>
<li>Modified from Selva Prabhakaran’s <a href="http://r-statistics.co/Complete-Ggplot2-Tutorial-Part2-Customizing-Theme-With-R-Code.html"><em>The Complete ggplot2 Tutorial - Part 2 | How To Customize ggplot2 (Full R code)</em></a>, licensed under the <a href="https://creativecommons.org/licenses/by-nc/3.0/">CC BY-NC 3.0 Creative Commons License</a>.</li>
</ul>
</div>
<div id="session-info" class="section level1 toc-ignore">
<h1>Session Info</h1>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">devtools::<span class="kw">session_info</span>()</code></pre></div>
<pre><code>##  setting  value                       
##  version  R version 3.3.3 (2017-03-06)
##  system   x86_64, darwin13.4.0        
##  ui       RStudio (1.0.136)           
##  language (EN)                        
##  collate  en_US.UTF-8                 
##  tz       America/Chicago             
##  date     2017-05-30                  
## 
##  package        * version    date       source                            
##  animation        2.5        2017-03-30 CRAN (R 3.3.2)                    
##  assertthat       0.2.0      2017-04-11 cran (@0.2.0)                     
##  backports        1.1.0      2017-05-22 CRAN (R 3.3.2)                    
##  base           * 3.3.3      2017-03-07 local                             
##  base64enc        0.1-3      2015-07-28 CRAN (R 3.3.0)                    
##  bigrquery      * 0.3.0      2016-06-28 CRAN (R 3.3.0)                    
##  bitops           1.0-6      2013-08-17 CRAN (R 3.3.0)                    
##  boot           * 1.3-19     2017-04-21 CRAN (R 3.3.2)                    
##  broom          * 0.4.2      2017-02-13 CRAN (R 3.3.2)                    
##  car              2.1-4      2016-12-02 CRAN (R 3.3.2)                    
##  caret          * 6.0-76     2017-04-18 CRAN (R 3.3.2)                    
##  cellranger       1.1.0      2016-07-27 CRAN (R 3.3.0)                    
##  class            7.3-14     2015-08-30 CRAN (R 3.3.3)                    
##  codetools        0.2-15     2016-10-05 CRAN (R 3.3.3)                    
##  colorspace       1.3-2      2016-12-14 CRAN (R 3.3.2)                    
##  config           0.2        2016-08-02 CRAN (R 3.3.0)                    
##  curl           * 2.6        2017-04-27 CRAN (R 3.3.2)                    
##  datasets       * 3.3.3      2017-03-07 local                             
##  DBI              0.6-1      2017-04-01 CRAN (R 3.3.2)                    
##  devtools         1.13.1     2017-05-13 CRAN (R 3.3.2)                    
##  digest           0.6.12     2017-01-27 CRAN (R 3.3.2)                    
##  dplyr          * 0.5.0      2016-06-24 CRAN (R 3.3.0)                    
##  e1071          * 1.6-8      2017-02-02 CRAN (R 3.3.2)                    
##  evaluate         0.10       2016-10-11 CRAN (R 3.3.0)                    
##  FNN            * 1.1        2013-07-31 CRAN (R 3.3.0)                    
##  forcats        * 0.2.0      2017-01-23 CRAN (R 3.3.2)                    
##  foreach        * 1.4.3      2015-10-13 CRAN (R 3.3.0)                    
##  foreign          0.8-68     2017-04-24 CRAN (R 3.3.2)                    
##  gam            * 1.14-4     2017-04-25 CRAN (R 3.3.2)                    
##  gapminder      * 0.2.0      2015-12-31 CRAN (R 3.3.0)                    
##  gbm            * 2.1.3      2017-03-21 CRAN (R 3.3.2)                    
##  geosphere        1.5-5      2016-06-15 CRAN (R 3.3.0)                    
##  gganimate      * 0.1.0.9000 2017-05-26 Github (dgrtwo/gganimate@bf82002) 
##  ggmap          * 2.7        2016-12-07 Github (dkahle/ggmap@c6b7579)     
##  ggplot2        * 2.2.1.9000 2017-05-12 Github (tidyverse/ggplot2@f4398b6)
##  ggrepel        * 0.6.5      2016-11-24 CRAN (R 3.3.2)                    
##  ggstance       * 0.3        2016-11-16 CRAN (R 3.3.2)                    
##  graphics       * 3.3.3      2017-03-07 local                             
##  grDevices      * 3.3.3      2017-03-07 local                             
##  grid             3.3.3      2017-03-07 local                             
##  gridExtra      * 2.2.1      2016-02-29 cran (@2.2.1)                     
##  gtable           0.2.0      2016-02-26 CRAN (R 3.3.0)                    
##  haven          * 1.0.0      2016-09-23 cran (@1.0.0)                     
##  here           * 0.0-6      2017-02-04 Github (krlmlr/here@007bfd9)      
##  hexbin         * 1.27.1     2015-08-19 CRAN (R 3.3.0)                    
##  highr            0.6        2016-05-09 CRAN (R 3.3.0)                    
##  hms              0.3        2016-11-22 CRAN (R 3.3.2)                    
##  htmltools        0.3.6      2017-04-28 cran (@0.3.6)                     
##  htmlwidgets      0.8        2016-11-09 CRAN (R 3.3.1)                    
##  httpuv           1.3.3      2015-08-04 CRAN (R 3.3.0)                    
##  httr           * 1.2.1      2016-07-03 CRAN (R 3.3.0)                    
##  igraph           1.0.1      2015-06-26 CRAN (R 3.3.0)                    
##  ISLR           * 1.0        2013-06-11 CRAN (R 3.3.0)                    
##  iterators        1.0.8      2015-10-13 CRAN (R 3.3.0)                    
##  janeaustenr      0.1.4      2016-10-26 CRAN (R 3.3.0)                    
##  jpeg             0.1-8      2014-01-23 cran (@0.1-8)                     
##  jsonlite       * 1.4        2017-04-08 cran (@1.4)                       
##  kknn           * 1.3.1      2016-03-26 CRAN (R 3.3.0)                    
##  knitr          * 1.16       2017-05-18 CRAN (R 3.3.2)                    
##  labeling         0.3        2014-08-23 CRAN (R 3.3.0)                    
##  lattice        * 0.20-35    2017-03-25 CRAN (R 3.3.2)                    
##  lazyeval         0.2.0      2016-06-12 CRAN (R 3.3.0)                    
##  lme4             1.1-13     2017-04-19 cran (@1.1-13)                    
##  lubridate      * 1.6.0      2016-09-13 CRAN (R 3.3.0)                    
##  lvplot         * 0.2.0.9000 2017-01-06 Github (hadley/lvplot@8ce61c7)    
##  magrittr         1.5        2014-11-22 CRAN (R 3.3.0)                    
##  mapproj          1.2-4      2015-08-03 CRAN (R 3.3.0)                    
##  maps           * 3.1.1      2016-07-27 CRAN (R 3.3.0)                    
##  MASS             7.3-47     2017-04-21 CRAN (R 3.3.2)                    
##  Matrix           1.2-10     2017-04-28 CRAN (R 3.3.2)                    
##  MatrixModels   * 0.4-1      2015-08-22 CRAN (R 3.3.0)                    
##  memoise          1.1.0      2017-04-21 CRAN (R 3.3.2)                    
##  methods        * 3.3.3      2017-03-07 local                             
##  mgcv             1.8-17     2017-02-08 CRAN (R 3.3.3)                    
##  microbenchmark * 1.4-2.1    2015-11-25 CRAN (R 3.3.0)                    
##  mime             0.5        2016-07-07 CRAN (R 3.3.0)                    
##  minqa            1.2.4      2014-10-09 cran (@1.2.4)                     
##  mnormt           1.5-5      2016-10-15 CRAN (R 3.3.0)                    
##  ModelMetrics     1.1.0      2016-08-26 CRAN (R 3.3.0)                    
##  modelr         * 0.1.0      2016-08-31 CRAN (R 3.3.0)                    
##  modeltools       0.2-21     2013-09-02 CRAN (R 3.3.0)                    
##  munsell          0.4.3      2016-02-13 CRAN (R 3.3.0)                    
##  nlme             3.1-131    2017-02-06 CRAN (R 3.3.3)                    
##  nloptr           1.0.4      2014-08-04 cran (@1.0.4)                     
##  NLP              0.1-10     2017-02-21 CRAN (R 3.3.2)                    
##  nnet           * 7.3-12     2016-02-02 CRAN (R 3.3.3)                    
##  nycflights13   * 0.2.2      2017-01-27 CRAN (R 3.3.2)                    
##  parallel       * 3.3.3      2017-03-07 local                             
##  pbkrtest         0.4-7      2017-03-15 CRAN (R 3.3.2)                    
##  plyr             1.8.4      2016-06-08 CRAN (R 3.3.0)                    
##  png              0.1-7      2013-12-03 cran (@0.1-7)                     
##  pROC           * 1.9.1      2017-02-05 CRAN (R 3.3.2)                    
##  profvis        * 0.3.3      2017-01-14 CRAN (R 3.3.2)                    
##  proto            1.0.0      2016-10-29 CRAN (R 3.3.0)                    
##  psych            1.7.5      2017-05-03 CRAN (R 3.3.3)                    
##  purrr          * 0.2.2.2    2017-05-11 CRAN (R 3.3.3)                    
##  quantreg       * 5.33       2017-04-18 CRAN (R 3.3.2)                    
##  R6               2.2.1      2017-05-10 CRAN (R 3.3.2)                    
##  randomForest   * 4.6-12     2015-10-07 CRAN (R 3.3.0)                    
##  rappdirs         0.3.1      2016-03-28 CRAN (R 3.3.0)                    
##  rcfss          * 0.1.4      2017-02-28 local                             
##  Rcpp             0.12.11    2017-05-22 CRAN (R 3.3.2)                    
##  readr          * 1.1.1      2017-05-16 CRAN (R 3.3.2)                    
##  readxl         * 1.0.0      2017-04-18 CRAN (R 3.3.2)                    
##  rebird         * 0.4.0      2017-04-26 CRAN (R 3.3.2)                    
##  reshape2         1.4.2      2016-10-22 CRAN (R 3.3.0)                    
##  RgoogleMaps      1.4.1      2016-09-18 cran (@1.4.1)                     
##  rjson            0.2.15     2014-11-03 cran (@0.2.15)                    
##  rlang            0.1.9000   2017-05-12 Github (hadley/rlang@c17568e)     
##  rmarkdown        1.5        2017-04-26 CRAN (R 3.3.2)                    
##  rprojroot        1.2        2017-01-16 CRAN (R 3.3.2)                    
##  rsconnect        0.8        2017-05-08 CRAN (R 3.3.2)                    
##  RSQLite        * 1.1-2      2017-01-08 CRAN (R 3.3.2)                    
##  rstudioapi       0.6        2016-06-27 CRAN (R 3.3.0)                    
##  rvest          * 0.3.2      2016-06-17 CRAN (R 3.3.0)                    
##  scales         * 0.4.1      2016-11-09 CRAN (R 3.3.1)                    
##  shiny          * 1.0.3      2017-04-26 CRAN (R 3.3.2)                    
##  slam             0.1-40     2016-12-01 CRAN (R 3.3.2)                    
##  SnowballC        0.5.1      2014-08-09 cran (@0.5.1)                     
##  sp               1.2-4      2016-12-22 CRAN (R 3.3.2)                    
##  sparklyr       * 0.5.5      2017-05-26 CRAN (R 3.3.3)                    
##  SparseM        * 1.77       2017-04-23 CRAN (R 3.3.2)                    
##  splines        * 3.3.3      2017-03-07 local                             
##  stats          * 3.3.3      2017-03-07 local                             
##  stats4           3.3.3      2017-03-07 local                             
##  stringi          1.1.5      2017-04-07 CRAN (R 3.3.2)                    
##  stringr        * 1.2.0      2017-02-18 CRAN (R 3.3.2)                    
##  survival       * 2.41-3     2017-04-04 CRAN (R 3.3.2)                    
##  tibble         * 1.3.1      2017-05-17 CRAN (R 3.3.2)                    
##  tidyr          * 0.6.3      2017-05-15 CRAN (R 3.3.2)                    
##  tidytext       * 0.1.2      2016-10-28 CRAN (R 3.3.0)                    
##  tidyverse      * 1.1.1      2017-01-27 CRAN (R 3.3.2)                    
##  titanic        * 0.1.0      2015-08-31 CRAN (R 3.3.0)                    
##  tm               0.7-1      2017-03-02 CRAN (R 3.3.2)                    
##  tokenizers       0.1.4      2016-08-29 CRAN (R 3.3.0)                    
##  tools            3.3.3      2017-03-07 local                             
##  topicmodels    * 0.2-6      2017-04-18 CRAN (R 3.3.2)                    
##  tree           * 1.0-37     2016-01-21 CRAN (R 3.3.0)                    
##  tweenr         * 0.1.5      2016-10-10 CRAN (R 3.3.0)                    
##  utils          * 3.3.3      2017-03-07 local                             
##  withr            1.0.2      2016-06-20 CRAN (R 3.3.0)                    
##  XML            * 3.98-1.7   2017-05-03 CRAN (R 3.3.2)                    
##  xml2           * 1.1.1      2017-01-24 CRAN (R 3.3.2)                    
##  xtable           1.8-2      2016-02-05 CRAN (R 3.3.0)                    
##  yaml             2.1.14     2016-11-12 cran (@2.1.14)</code></pre>
</div>
<div class="footnotes">
<hr />
<ol>
<li id="fn1"><p>This is included as an example dataset in the <code>ggplot2</code> package. Type <code>?midwest</code> in your console for more information.<a href="#fnref1">↩</a></p></li>
</ol>
</div>

<p>This work is licensed under the  <a href="http://creativecommons.org/licenses/by-nc/4.0/">CC BY-NC 4.0 Creative Commons License</a>.</p>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
